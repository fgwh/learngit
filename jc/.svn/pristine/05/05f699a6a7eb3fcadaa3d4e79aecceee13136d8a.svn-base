<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<!-- 
    Mapping file autogenerated by MyEclipse Persistence Tools
-->
<hibernate-mapping>
    <class name="com.hgsoft.main.jcManange.entity.ProBlackList" table="tb_proBlackList">
        <composite-id name="pk" class="com.hgsoft.main.jcManange.entity.PK">  
		   <key-property name="vehPlate"></key-property>  
		   <key-property name="vehPlateColor"></key-property>  
		</composite-id>
        <property name="vehFlag" type="java.lang.Integer">
            <column name="VehFlag" not-null="true" />
        </property>
        <property name="vehClass" type="java.lang.Integer">
            <column name="VehClass" not-null="true" />
        </property>
        <property name="interceptOption" type="java.lang.Integer">
            <column name="InterceptOption" not-null="true" />
        </property>
        <property name="startDate" type="java.sql.Timestamp">
            <column name="StartDate" length="23" not-null="true" />
        </property>
        <property name="endDate" type="java.sql.Timestamp">
            <column name="EndDate" length="23" not-null="true" />
        </property>
        <property name="vehInfo" type="java.lang.String">
            <column name="VehInfo" length="500" not-null="true" />
        </property>
    </class>
    <sql-query name="proBlackList">
    	select  vehPlate,convert(varchar,VehPlateColor)vehColorStr,vehFlag,convert(varchar,vehClass)vehClassStr, 
    	convert(varchar,interceptOption)interceptStr,startDate,endDate,vehInfo
    	from tb_proBlackList pb  
    	where  (''=:startQueryDate or convert(date, pb.startDate) >= CONVERT(date,:startQueryDate))
    	and (''=:endQueryDate or CONVERT(date,:endQueryDate) >= convert(date, pb.endDate)) 
    	and (''=:vehClass or pb.vehClass = convert(int,:vehClass))
        and (''=:vehPlateColor or pb.vehPlateColor = convert(int,:vehPlateColor))
        and (''=:vehFlag or pb.vehFlag = convert(int,:vehFlag))
        and (''=:interceptOption or pb.interceptOption = convert(int,:interceptOption))
        and pb.vehPlate like '%'+:plateNum +'%'
        and pb.vehPlate like  '%'+ :carNo +'%' 	
        order by pb.vehPlate desc
    </sql-query>
</hibernate-mapping>
